kind: pipeline
name: demo

steps:
  - name: greeting
    image: maven/3.6.2-jdk-8
    commands:
      - mvn clean test
    when:
      event:
        - push
